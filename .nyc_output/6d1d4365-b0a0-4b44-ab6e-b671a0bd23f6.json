{"/Users/weiruifeng/Code/short-chain-service/config/plugin.ts":{"path":"/Users/weiruifeng/Code/short-chain-service/config/plugin.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":13,"column":1}},"2":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/weiruifeng/Code/short-chain-service/config/plugin.ts","sources":["/Users/weiruifeng/Code/short-chain-service/config/plugin.ts"],"names":[],"mappings":";;AAEA,MAAM,MAAM,GAAc;IACxB,MAAM,EAAE,IAAI;IACZ,SAAS,EAAE;QACT,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,eAAe;KACzB;IAED,OAAO,EAAE;QACP,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,aAAa;KACvB;CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import { EggPlugin } from 'egg';\n\nconst plugin: EggPlugin = {\n  static: true,\n  sequelize: {\n    enable: true,\n    package: 'egg-sequelize',\n  },\n\n  session: {\n    enable: true,\n    package: 'egg-session',\n  },\n};\n\nexport default plugin;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f0fef73d574913022b9f5dd617ee6d156e377a6","contentHash":"de839e7f55efd38b046407bf63d96236f8c463db9d67e410919958cf40ab37a2"},"/Users/weiruifeng/Code/short-chain-service/config/config.default.ts":{"path":"/Users/weiruifeng/Code/short-chain-service/config/config.default.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":11},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":63,"column":2}},"5":{"start":{"line":7,"column":19},"end":{"line":27,"column":5}},"6":{"start":{"line":28,"column":22},"end":{"line":61,"column":5}},"7":{"start":{"line":62,"column":4},"end":{"line":62,"column":63}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":18},"end":{"line":6,"column":19}},"loc":{"start":{"line":6,"column":31},"end":{"line":63,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/Users/weiruifeng/Code/short-chain-service/config/config.default.ts","sources":["/Users/weiruifeng/Code/short-chain-service/config/config.default.ts"],"names":[],"mappings":";;AAAA,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAE7B,yCAAkC;AAElC,kBAAe,CAAC,OAAmB,EAAO,EAAE;IAC1C,MAAM,MAAM,GAAG;QACb,UAAU,EAAE;YACV,cAAc;YACd,WAAW;SACZ;QACD,MAAM,EAAE;YACN,MAAM,EAAE,UAAU;YAClB,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC;SAC1C;QACD,QAAQ,EAAE;YACR,IAAI,EAAE;gBACJ,MAAM,EAAE,KAAK;aACd;SACF;QACD,OAAO,EAAE;YACP,GAAG,EAAE,cAAc;YACnB,MAAM,EAAE,EAAE,GAAG,IAAI,GAAG,IAAI;YACxB,QAAQ,EAAE,IAAI;YACd,OAAO,EAAE,IAAI;SACd;KACF,CAAC;IAEF,MAAM,SAAS,GAAG;QAChB,QAAQ,EAAE;YACR,cAAc,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;SACnF;QACD,YAAY,EAAE;YACZ,GAAG,EAAE;gBACH,SAAS,EAAE,SAAS;gBACpB,4BAA4B;gBAC5B,MAAM,EAAE,KAAK;gBACb,eAAe;gBACf,QAAQ,EAAE,KAAK;aAChB;YACD,KAAK,EAAE;gBACL,SAAS,EAAE,WAAW;gBACtB,MAAM,EAAE,KAAK;gBACb,eAAe;gBACf,QAAQ,EAAE,KAAK;aAChB;SACF;QACD,SAAS,kBACP,IAAI,EAAE;gBACJ,GAAG,EAAE,CAAC;gBACN,GAAG,EAAE,CAAC;gBACN,IAAI,EAAE,KAAK;aACZ,EACD,MAAM,EAAE;gBACN,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE,KAAK;gBACf,eAAe,EAAE,IAAI;gBACrB,WAAW,EAAE,IAAI;aAClB,EACD,QAAQ,EAAE,QAAQ,IACf,kBAAQ,CAAC,WAAW,CACxB;QACD,WAAW,EAAE;YACX,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,IAAI;SACX;KACF,CAAC;IAGF,OAAO,gCACF,MAAM,GACN,SAAS,CACiB,CAAC;AAClC,CAAC,CAAC","sourcesContent":["const fs = require('fs');\nconst path = require('path');\nimport { EggAppConfig, EggAppInfo, PowerPartial } from 'egg';\nimport database from './database';\n\nexport default (appInfo: EggAppInfo): any => {\n  const config = {\n    middleware: [\n      'errorHandler',\n      'authority',\n    ],\n    static: {\n      prefix: '/public/',\n      dir: path.join(appInfo.baseDir, 'public'),\n    },\n    security: {\n      csrf: {\n        enable: false,\n      },\n    },\n    session: {\n      key: 'MAPI_SESSION',\n      maxAge: 24 * 3600 * 1000,\n      httpOnly: true,\n      encrypt: true,\n    },\n  };\n\n  const bizConfig = {\n    siteFile: {\n      '/favicon.ico': fs.readFileSync(path.join(appInfo.baseDir, 'icon', 'favicon.ico')),\n    },\n    customLoader: {\n      dao: {\n        directory: 'app/dao',\n        // 如果是 ctx 则使用 loadToContext\n        inject: 'ctx',\n        // 是否加载框架和插件的目录\n        loadunit: false,\n      },\n      redis: {\n        directory: 'app/redis',\n        inject: 'app',\n        // 是否加载框架和插件的目录\n        loadunit: false,\n      },\n    },\n    sequelize: {\n      pool: {\n        max: 5,\n        min: 0,\n        idle: 10000,\n      },\n      define: {\n        timestamps: false,\n        paranoid: false,\n        freezeTableName: true,\n        underscored: true,\n      },\n      timezone: '+08:00',\n      ...database.development,\n    },\n    redisConfig: {\n      host: '127.0.0.1',\n      port: 6379,\n    },\n  };\n\n\n  return {\n    ...config,\n    ...bizConfig,\n  } as PowerPartial<EggAppConfig>;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f066deaaa9c4365604e347f0b4f26632e6f1de7","contentHash":"b75008ada8890a1bf9f4a9fd6151ee8c57a3918968e67b7bed1dd82b1b5f29d0"},"/Users/weiruifeng/Code/short-chain-service/config/database.ts":{"path":"/Users/weiruifeng/Code/short-chain-service/config/database.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":22,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/weiruifeng/Code/short-chain-service/config/database.ts","sources":["/Users/weiruifeng/Code/short-chain-service/config/database.ts"],"names":[],"mappings":";;AAAA,kBAAe;IACb,WAAW,EAAE;QACX,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,UAAU;QACpB,QAAQ,EAAE,aAAa;QACvB,OAAO,EAAE,IAAI;KACd;IACD,UAAU,EAAE;QACV,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,UAAU;QACpB,QAAQ,EAAE,aAAa;QACvB,OAAO,EAAE,IAAI;KACd;CACF,CAAC","sourcesContent":["export default {\n  development: {\n    dialect: 'mysql',\n    host: '127.0.0.1',\n    port: 3306,\n    username: 'root',\n    password: '12345678',\n    database: 'short_chain',\n    logging: true,\n  },\n  production: {\n    dialect: 'mysql',\n    host: '127.0.0.1',\n    port: 3306,\n    username: 'root',\n    password: '12345678',\n    database: 'short_chain',\n    logging: true,\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b427b7f39ae1a38eadd9c0c77767b8948c29bc6c","contentHash":"23a0e46b6c7cd8c92a30113de6f6d108691269556ec16b84d48a07a432ae6950"}}